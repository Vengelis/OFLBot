plugins {
    id 'java'
    id 'idea'
    id 'com.github.johnrengelman.shadow' version '7.1.2'
    id 'application'
}

group = "fr.vengelis"
version = ""
mainClassName = 'fr.vengelis.oflbot.OLFBot'


compileJava.getOptions().setEncoding("UTF-8")
compileJava {
    sourceCompatibility = '1.8'
    targetCompatibility = '1.8'
}

repositories {
    mavenLocal()
    mavenCentral()
    maven { url 'https://jitpack.io' }
    maven { url 'https://repo.kryptonmc.org/releases' }
}


dependencies {
    implementation("net.dv8tion:JDA:5.0.0-beta.20")
    implementation(group: 'org.yaml', name: 'snakeyaml', version: '2.2')
    implementation(group: 'org.apache.commons', name: 'commons-io', version: '1.3.2')
    implementation group: 'com.electronwill.night-config', name: 'toml', version: '3.6.6'
}

shadowJar {
    configurations = [project.configurations.runtimeClasspath]
    archiveFileName = "${project.name}.jar"
    archiveVersion = ''
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    manifest {
        attributes["Main-Class"] = mainClassName
    }
}